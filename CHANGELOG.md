# å˜æ›´æ—¥å¿—

## [æœªå‘å¸ƒ] - 2025-08-01

### Bug ä¿®å¤ ğŸ›

- **ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ä¿®å¤**: è§£å†³äº†æš—è‰²/äº®è‰²ä¸»é¢˜åˆ‡æ¢ä¸ç”Ÿæ•ˆçš„é—®é¢˜
  - é…ç½®Tailwind CSS v4çš„dark modeä½¿ç”¨classç­–ç•¥: `@variant dark (&:where(.dark, .dark *))`
  - ä¼˜åŒ–ThemeContextå®ç°ï¼Œæ­£ç¡®å¤„ç†localStorageå’Œç³»ç»Ÿåå¥½
  - æ·»åŠ é˜²FOUCï¼ˆFlash of Unstyled Contentï¼‰è„šæœ¬åˆ°HTMLå¤´éƒ¨
  - ç¡®ä¿ä¸»é¢˜çŠ¶æ€æ­£ç¡®åº”ç”¨åˆ°DOMå…ƒç´ 

### ä»£ç æ¸…ç† ğŸ§¹

- ç§»é™¤ä¸´æ—¶è°ƒè¯•æ–‡ä»¶å’Œæµ‹è¯•ç»„ä»¶
  - åˆ é™¤ `debug.html`
  - åˆ é™¤ `SimpleThemeTest.tsx`
  - åˆ é™¤ `debug/` ç»„ä»¶ç›®å½•

## [æœªå‘å¸ƒ] - 2025-07-19

### æ ·å¼æ¶æ„é‡æ„ ğŸ¨

#### ä¸»è¦æ›´æ–°

- **CSSæ¶æ„é‡æ„**: ä½¿ç”¨@applyæŒ‡ä»¤åˆ›å»ºè¯­ä¹‰åŒ–ç»„ä»¶æ ·å¼
  - å°†å†…è”Tailwindç±»é‡æ„ä¸ºè¯­ä¹‰åŒ–CSSç±»å
  - åˆ›å»ºäº†100+ä¸ªç»„ä»¶çº§æ ·å¼ç±»ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§
  - å®ç°æ›´å¥½çš„æ ·å¼ç»„ç»‡å’Œå¤ç”¨

- **è¯­ä¹‰åŒ–æ ·å¼ç³»ç»Ÿ**: å»ºç«‹æ¸…æ™°çš„æ ·å¼å‘½åè§„èŒƒ
  - å¸ƒå±€ç»„ä»¶: `.app-container`, `.main-layout`, `.sidebar-container`, `.main-content`
  - æ¶ˆæ¯ç»„ä»¶: `.message-bubble-user`, `.message-bubble-ai`, `.message-actions`
  - æŒ‰é’®ç»„ä»¶: `.btn-primary`, `.btn-secondary`, `.btn-icon`, `.btn-action`
  - ä¾§è¾¹æ ç»„ä»¶: `.sidebar`, `.sidebar-header`, `.conversation-item`
  - è¾“å…¥ç»„ä»¶: `.chat-input-container`, `.chat-input-area`, `.chat-input-field`

- **ç»„ä»¶æ›´æ–°**: æ›´æ–°æ‰€æœ‰Reactç»„ä»¶ä½¿ç”¨æ–°çš„è¯­ä¹‰åŒ–CSSç±»
  - App.tsx: ä½¿ç”¨`.app-container`æ›¿ä»£å†…è”ç±»
  - MainLayout.tsx: ä½¿ç”¨`.main-layout`å’Œ`.sidebar-container`
  - Sidebar.tsx: ä½¿ç”¨å®Œæ•´çš„ä¾§è¾¹æ æ ·å¼ç³»ç»Ÿ
  - ChatArea.tsx: ä½¿ç”¨èŠå¤©åŒºåŸŸä¸“ç”¨æ ·å¼ç±»
  - Button.tsx: ç®€åŒ–ä¸ºè¯­ä¹‰åŒ–æŒ‰é’®ç±»

- **æ ·å¼ä¼˜åŒ–**: æ”¹è¿›çš„æ ·å¼æ¶æ„å¸¦æ¥æ›´å¥½çš„å¼€å‘ä½“éªŒ
  - æ›´æ¸…æ™°çš„æ ·å¼ç»„ç»‡ç»“æ„
  - æ›´å¥½çš„æ ·å¼å¤ç”¨å’Œç»´æŠ¤æ€§
  - ç»Ÿä¸€çš„è®¾è®¡ç³»ç»Ÿå®ç°

## [2025-07-18] - ä»£ç æ¶æ„é‡æ„

### é‡æ„ä¼˜åŒ– ğŸ¯

#### ä¸»è¦æ”¹è¿›

- **ä»£ç æ¶æ„é‡æ„**: å°†1400+è¡Œçš„å·¨å‹ç»„ä»¶æ‹†åˆ†æˆæ¨¡å—åŒ–æ¶æ„
  - App.tsxä»1418è¡Œå‡å°‘åˆ°421è¡Œ (å‡å°‘70%)
  - åˆ›å»ºäº†4ä¸ªè‡ªå®šä¹‰hookså’Œ6ä¸ªå¯å¤ç”¨ç»„ä»¶
  - æå‡ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§

- **æ¨¡å—åŒ–è®¾è®¡**: å®ç°æ¸…æ™°çš„å…³æ³¨ç‚¹åˆ†ç¦»
  - `hooks/`: useAuth, useConversations, useFileUpload, useTheme
  - `components/`: Sidebar, MessageComponent, LoadingIndicator, ChatInput, MarkdownRenderer, AssistantAvatar
  - `utils/`: conversationUtils, styles (æ ·å¼å·¥å…·å‡½æ•°)

- **ä»£ç é‡å¤æ¶ˆé™¤**:
  - ç§»é™¤äº†3å¤„é‡å¤çš„`getFileIcon`å‡½æ•°å®šä¹‰
  - ç»Ÿä¸€ä½¿ç”¨`useFileUpload` hookä¸­çš„å®ç°
  - ä¼˜åŒ–äº†`generateAIResponse`å‡½æ•°çš„å‚æ•°ä¼ é€’

#### æŠ€æœ¯æ”¹è¿›

- **æ ·å¼ç³»ç»Ÿä¼˜åŒ–**: å¼•å…¥äº†`themeClasses`å·¥å…·å‡½æ•°ç”¨äºä¸€è‡´çš„ä¸»é¢˜æ ·å¼
- **TypeScriptä¼˜åŒ–**: æ”¹è¿›äº†ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œç®€åŒ–äº†vite-env.d.ts
- **æ„å»ºä¼˜åŒ–**: ç§»é™¤äº†å†—ä½™æ–‡ä»¶ï¼Œä¿®å¤äº†æ‰€æœ‰ç¼–è¯‘é”™è¯¯

#### æ–‡ä»¶æ¸…ç†

- åˆ é™¤äº†æœ‰93ä¸ªç¼–è¯‘é”™è¯¯çš„é‡å¤App.tsxæ–‡ä»¶
- ç§»é™¤äº†ä¸å¿…è¦çš„react-jsx.d.tsç±»å‹å£°æ˜
- æ¸…ç†äº†WSLç¯å¢ƒä¸‹çš„npmé…ç½®é—®é¢˜

### å·²è§£å†³çš„é—®é¢˜

- ä¿®å¤äº†æ‰€æœ‰TypeScriptç¼–è¯‘é”™è¯¯
- è§£å†³äº†npmè·¯å¾„é…ç½®åœ¨WSLç¯å¢ƒä¸‹çš„é—®é¢˜
- ä¿®å¤äº†ä»£ç é‡å¤å¯¼è‡´çš„ç»´æŠ¤æ€§é—®é¢˜

## [æœªå‘å¸ƒ] - 2025-07-17

### æ–°å¢åŠŸèƒ½

- **è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°æ¶ˆæ¯**: ä¿®å¤äº†èŠå¤©ç•Œé¢çš„ç”¨æˆ·ä½“éªŒé—®é¢˜
  - å½“å‘é€æ–°æ¶ˆæ¯æ—¶ï¼Œç•Œé¢ä¼šè‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°æ¶ˆæ¯
  - å½“æ¥æ”¶åˆ°AIå›å¤æ—¶ï¼Œç•Œé¢ä¼šè‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°æ¶ˆæ¯  
  - å½“åˆ‡æ¢å¯¹è¯æ—¶ï¼Œç•Œé¢ä¼šè‡ªåŠ¨æ»šåŠ¨åˆ°è¯¥å¯¹è¯çš„æœ€æ–°æ¶ˆæ¯
  - æ¶ˆæ¯åŠ è½½è¿‡ç¨‹ä¸­ä¹Ÿä¼šä¿æŒæ­£ç¡®çš„æ»šåŠ¨ä½ç½®

### æŠ€æœ¯å®ç°

- ä¸ºæ¶ˆæ¯æ˜¾ç¤ºå®¹å™¨æ·»åŠ äº† `messagesContainerRef` å¼•ç”¨
- é€šè¿‡ä¸¤ä¸ª `useEffect` é’©å­ç›‘å¬æ¶ˆæ¯å˜åŒ–å’Œå¯¹è¯åˆ‡æ¢
- ä½¿ç”¨ `scrollTop = scrollHeight` å®ç°å¹³æ»‘æ»šåŠ¨åˆ°åº•éƒ¨

### ä¿®å¤çš„é—®é¢˜

- è§£å†³äº†æ–°æ¶ˆæ¯åˆ°æ¥åéœ€è¦æ‰‹åŠ¨æ»šåŠ¨æ‰èƒ½çœ‹åˆ°çš„ä¸ä¾¿é—®é¢˜
- æå‡äº†èŠå¤©ä½“éªŒçš„æµç•…æ€§å’Œç›´è§‚æ€§

## [2025-07-20] - Migrate PostCSS config to Vite

- Removed postcss.config.js from assistant-ui
- Integrated TailwindCSS PostCSS plugin directly in vite.config.ts
- Now all PostCSS plugins are managed via Vite config
